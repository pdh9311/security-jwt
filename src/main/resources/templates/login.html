<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>LOGIN</title>
</head>
<body>
<h1>로그인 페이지</h1>
<div>
    <input id="username" type="text" name="username" placeholder="Username"> <br>
    <input id="password" type="password" name="password" placeholder="Password"> <br>
    <button id="login">로그인</button>
</div>
<a href="/join">회원가입하러 가기</a>

<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<script>
    const loginBtn = document.querySelector("#login");

    loginBtn.addEventListener('click', (e) => {
        e.preventDefault();
        const username = document.querySelector("#username").value;
        const password = document.querySelector("#password").value;
        $.ajax({
            method: "POST",
            url: "http://localhost:8080/login",
            contentType: "application/json;charset=utf-8",
            data: JSON.stringify({"username": username, "password": password}),
            success: () => {
                location.replace("http://localhost:8080");
            },
            error: () => {
                alert("아이디 또는 비밀번호가 틀렸습니다.");
            }
        });
    });
</script>
</body>
</html>